version 1.0;
ns junos = "http://xml.juniper.net/junos/*/junos";
ns xnm = "http://xml.juniper.net/xnm/1.1/xnm";
ns jcs = "http://xml.juniper.net/junos/commit-scripts/1.0";
import "../import/test.slax";

match configuration {
	if(jcs:empty(system/services/ssh)){
	<change>{
		<system> {
			<services>{
				<ssh>;
			}
		}
	}
	<xnm:warning> {
	<message> "Enabling ssh";
		}
	}
	if( jcs:empty( system/login/user[name == "jnpr"] ) ) {
		<change> {
			<system> {
				<login> {
					<user> {
						<name> "jnpr";
						<class> "super-user";
						<authentication> {
							<encrypted-password> "$1$RHL6So3y$kcOy3vb6YiWf6FAJzHi7j1";
						}
					}
				}
			}
		}
	<xnm:warning> {
		<message> "Adding jnpr user account";
		}
	}
}
